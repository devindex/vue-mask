/**
  * di-vue-mask v1.2.0
  * (c) 2021 Sergio Rodrigues
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueMask=t()}(this,function(){"use strict";function e(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function t(e){return function(t){var n=e(t),r=l("pre"in n?n.pre:null),i=f("post"in n?n.post:null),o="pattern"in n&&n.pattern?new u(n.pattern,n.options||{}):null,a="handler"in n&&"function"==typeof n.handler?n.handler:function(e){return o?o.apply(e):e};return function(e,t){void 0===t&&(t={}),t=Object.assign(t,{delimiter:v}),e=r(e,t);var n=(e.includes(v)?e:""+v+e).split(v),o=n[0],u=n[1];return u=a(u,t),i(""+o+u,t)}}}function n(t,n){var r=t.value,i=n(r,{el:t});if(i!==r){var o=t.selectionEnd;if(o===r.length)o=i.length;else if(o>0&&o<=i.length){var u=r.charAt(o-1);u!==i.charAt(o-1)&&(u===i.charAt(o)?o+=1:u===i.charAt(o-2)&&(o-=1))}t.value=i,t===document.activeElement&&t.setSelectionRange(o,o),t.dispatchEvent(e("input"))}}function r(e){var t,r;return{bind:function(i,o){t=e({value:o.value,locale:o.arg||Object.keys(o.modifiers)[0]||null}),r=a(i),n(r,t)},update:function(){o.nextTick(function(){n(r,t)})}}}function i(e){i.installed||(o=e,e.directive("mask",r(d)),e.directive("maskDate",r(m)),e.directive("maskPhone",r(y)),e.directive("maskDecimal",r(b)),e.directive("maskNumber",r(A)),e.directive("maskCpf",r(k)),e.directive("maskCnpj",r(j)),e.directive("maskCep",r(x)),e.directive("maskCc",r(E)),e.directive("maskModel",z),i.installed=!0)}var o,u=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e,t){!function(t,n){e.exports=n()}(0,function(){function e(e,t){for(var n=0,r=t-1,i={escape:!0};r>=0&&i&&i.escape;)i=a[e.charAt(r)],n+=i&&i.escape?1:0,r--;return n>0&&n%2==1}function t(e,t){var n=e.replace(/[^0]/g,"").length;return t.replace(/[^\d]/g,"").length-n}function n(e,t,n,r){return r&&"function"==typeof r.transform&&(t=r.transform(t)),n.reverse?t+e:e+t}function r(e,t,n){var i=e.charAt(t),o=a[i];return""!==i&&(!(!o||o.escape)||r(e,t+n,n))}function i(e,t,n){var r=e.charAt(t),o=a[r];return""!==r&&(!(!o||!o.recursive)||i(e,t+n,n))}function o(e,t,n){var r=e.split("");return r.splice(n,0,t),r.join("")}function u(e,t){this.options=t||{},this.options={reverse:this.options.reverse||!1,usedefaults:this.options.usedefaults||this.options.reverse},this.pattern=e}var a={0:{pattern:/\d/,_default:"0"},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,optional:!0,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/},U:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},L:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},$:{escape:!0}};return u.prototype.process=function(u){var s=this;if(!u)return{result:"",valid:!1};u+="";var c=this.pattern,p=!0,l="",f=this.options.reverse?u.length-1:0,v=0,d=t(c,u),h=!1,m=[],g=!1,y={start:this.options.reverse?c.length-1:0,end:this.options.reverse?-1:c.length,inc:this.options.reverse?-1:1};for(v=y.start;function(e){if(!g&&!m.length&&r(c,v,y.inc))return!0;if(!g&&m.length&&i(c,v,y.inc))return!0;if(g||(g=m.length>0),g){var t=m.shift();if(m.push(t),e.reverse&&f>=0)return v++,c=o(c,t,v),!0;if(!e.reverse&&f<u.length)return c=o(c,t,v),!0}return v<c.length&&v>=0}(this.options);v+=y.inc){var w=u.charAt(f),b=c.charAt(v),A=a[b];if(m.length&&A&&!A.recursive&&(A=null),!g||w){if(s.options.reverse&&e(c,v)){l=n(l,b,s.options,A),v+=y.inc;continue}if(!s.options.reverse&&h){l=n(l,b,s.options,A),h=!1;continue}if(!s.options.reverse&&A&&A.escape){h=!0;continue}}if(!g&&A&&A.recursive)m.push(b);else{if(g&&!w){l=n(l,b,s.options,A);continue}if(!g&&m.length>0&&!w)continue}if(A)if(A.optional){if(A.pattern.test(w)&&d)l=n(l,w,s.options,A),f+=y.inc,d--;else if(m.length>0&&w){p=!1;break}}else if(A.pattern.test(w))l=n(l,w,s.options,A),f+=y.inc;else{if(w||!A._default||!s.options.usedefaults){p=!1;break}l=n(l,A._default,s.options,A)}else l=n(l,b,s.options,A),!g&&m.length&&m.push(b)}return{result:l,valid:p}},u.prototype.apply=function(e){return this.process(e).result},u.prototype.validate=function(e){return this.process(e).valid},u.process=function(e,t,n){return new u(t,n).process(e)},u.apply=function(e,t,n){return new u(t,n).apply(e)},u.validate=function(e,t,n){return new u(t,n).validate(e)},u})})),a=function(e){var t="input"!==e.tagName.toLowerCase()?e.querySelector("input:not([readonly])"):e;if(!t)throw new Error("Mask directive requires at least one input");return t},s=function(e){return e.replace(/\D/g,"")},c=function(e){return e.replace(/[^a-zA-Z]/g,"")},p=function(e){return e.replace(/[^a-zA-Z0-9]/g,"")},l=function(e){if("function"==typeof e)return e;switch(e){case"filter-number":return s;case"filter-letter":return c;default:return p}},f=function(e){return"function"==typeof e?e:function(e){return e.trim().replace(/[^0-9]$/,"")}},v="\xa7",d=t(function(e){return{pattern:e.value,pre:p,post:function(e){return e.trim().replace(/[^a-zA-Z0-9]$/,"")}}}),h={us:"0000-00-00",br:"00/00/0000"},m=t(function(e){void 0===e&&(e={});var t=e.locale;return void 0===t&&(t=null),{pattern:h[t||"us"],pre:s}}),g={get us(){var e=new u("(000) 000-0000");return function(t){return e.apply(t)}},get br(){var e=new u("(00) 0000-0000"),t=new u("(00) 9 0000-0000"),n=new u("0000-000-0000");return function(r){return r.startsWith("0800".slice(0,r.length))?n.apply(r):r.length<=10?e.apply(r):t.apply(r)}}},y=t(function(e){var t=e.locale,n=g[t||"us"];return{pre:s,handler:n}}),w={us:{thousand:",",decimal:"."},br:{thousand:".",decimal:","}},b=t(function(e){var t=e.locale,n=e.value,r=w[t||"us"],i=["#"+r.thousand+"##0"];return(n||0)&&i.push(r.decimal,new Array(n).fill("0").join("")),{pattern:i.join(""),options:{reverse:!0},pre:function(e,t){var n=t.delimiter;if(!e)return"";var i=e.startsWith("-")?"-":"",o=e.split(r.decimal).map(s),u=o[0],a=o[1];return void 0===a&&(a=""),[i,n,Number(u),a].join("")},post:function(e){return e}}}),A=t(function(){return{pattern:"#0",options:{reverse:!0},pre:s}}),k=t(function(){return{pattern:"000.000.000-00",pre:s}}),j=t(function(){return{pattern:"00.000.000/0000-00",pre:s}}),x=t(function(){return{pattern:"00.000-000",pre:s}}),E=t(function(){return{pattern:"0000 0000 0000 0000",pre:s}}),z={bind:function(e,t,n){var r=t.value,i=t.expression;e=a(e,n);var o=i.replace(/\[(\d+)]/,".$1").split("."),u=function(e){for(var t=n.context,r=o.slice(0);r.length>1;)t=t[r.shift()];return t[r.shift()]=e};e.addEventListener("input",function(e){var t=e.target;return u(t.value)},!1),e.value=r},update:function(e,t,n){var r=t.value;r!==t.oldValue&&(e=a(e,n),e.value=r)}},C={install:i};return"undefined"!=typeof window&&window.Vue&&window.Vue.use({install:i}),C});